<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz - Listrik Dinamis | E-Fisika</title>
    <link rel="stylesheet" href="quiz.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <header>
      <div class="navbar-container">
        <a href="index.html" class="logo">
          <i class="fas fa-flask-vial"></i>
          E-FISIKA
        </a>
        <nav id="mobileMenu">
          <a href="index.html">
            <i class="fas fa-home"></i> Beranda
          </a>
          <a href="materi.html">
            <i class="fas fa-book"></i> Materi
          </a>
          <a href="quiz.html">
            <i class="fas fa-question-circle"></i> Quiz
          </a>
          <a href="game.html">
            <i class="fas fa-gamepad"></i> Game
          </a>
        </nav>
        <nav>
          <a href="index.html">
            <i class="fas fa-home"></i> Beranda
          </a>
          <a href="materi.html">
            <i class="fas fa-book"></i> Materi
          </a>
          <a href="quiz.html">
            <i class="fas fa-question-circle"></i> Quiz
          </a>
          <a href="game.html">
            <i class="fas fa-gamepad"></i> Game
          </a>
        </nav>
        <button class="menu-toggle" onclick="toggleMobileMenu()">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </header>

    <div class="hero-section">
      <h1><i class="fas fa-question-circle"></i> Kuis Interaktif Listrik Dinamis</h1>
      <p>Uji pemahaman Anda tentang arus, hambatan, dan rangkaian listrik searah (DC)</p>
    </div>

    <main>
      <div class="quiz-area">
        <h2><i class="fas fa-clipboard-check"></i> Uji Pemahaman: Hukum Arus dan Rangkaian</h2>
        <p class="intro-text">
          Jawablah pertanyaan-pertanyaan berikut untuk menguji pemahaman Anda.
          Anda dapat melihat hasil skor setelah menyelesaikan semua pertanyaan.
        </p>

        <form id="physics-quiz">
          <div class="question-box" data-correct-answer="B">
            <p>
              1. Satuan internasional (SI) untuk kuat arus listrik ($I$) adalah...
            </p>
            <div class="options">
              <label><input type="radio" name="q1" value="A" /> Volt</label>
              <label><input type="radio" name="q1" value="B" /> Ampere</label>
              <label><input type="radio" name="q1" value="C" /> Ohm</label>
              <label><input type="radio" name="q1" value="D" /> Coulomb</label>
            </div>
          </div>

          <div class="question-box" data-correct-answer="A">
            <p>
              2. Jika tegangan pada suatu rangkaian diperbesar, sementara hambatan
              dijaga tetap, maka arus listrik akan...
            </p>
            <div class="options">
              <label><input type="radio" name="q2" value="A" /> Membesar</label>
              <label><input type="radio" name="q2" value="B" /> Mengecil</label>
              <label><input type="radio" name="q2" value="C" /> Tetap</label>
              <label><input type="radio" name="q2" value="D" /> Menjadi nol</label>
            </div>
          </div>

          <div class="question-box" data-correct-answer="C">
            <p>3. Hukum I Kirchhoff didasarkan pada prinsip kekekalan...</p>
            <div class="options">
              <label><input type="radio" name="q3" value="A" /> Energi</label>
              <label><input type="radio" name="q3" value="B" /> Momentum</label>
              <label><input type="radio" name="q3" value="C" /> Muatan Listrik</label>
              <label><input type="radio" name="q3" value="D" /> Daya Listrik</label>
            </div>
          </div>

          <div class="question-box" data-correct-answer="B">
            <p>
              4. Dalam rangkaian seri, rumus untuk hambatan total adalah...
            </p>
            <div class="options">
              <label><input type="radio" name="q4" value="A" /> $\dfrac{1}{R_{\text{total}}} = \dfrac{1}{R_1} + \dfrac{1}{R_2} + \cdots$</label>
              <label><input type="radio" name="q4" value="B" /> $R_{\text{total}} = R_1 + R_2 + R_3 + \cdots$</label>
              <label><input type="radio" name="q4" value="C" /> $R_{\text{total}} = R_1 \times R_2 \times \cdots$</label>
              <label><input type="radio" name="q4" value="D" /> $R_{\text{total}} = \dfrac{R_1 \times R_2}{R_1 + R_2}$</label>
            </div>
          </div>

          <div class="question-box" data-correct-answer="A">
            <p>
              5. Menurut Hukum Ohm, hubungan antara tegangan ($V$), arus ($I$), dan hambatan ($R$) adalah...
            </p>
            <div class="options">
              <label><input type="radio" name="q5" value="A" /> $V = I \times R$</label>
              <label><input type="radio" name="q5" value="B" /> $I = V + R$</label>
              <label><input type="radio" name="q5" value="C" /> $R = V + I$</label>
              <label><input type="radio" name="q5" value="D" /> $V = I + R$</label>
            </div>
          </div>

          <button type="button" id="submit-quiz">Periksa Jawaban</button>
        </form>

        <div id="score-result"></div>
      </div>
    </main>

    <footer>
      <p>&copy; 2025 E-Fisika | Platform Pembelajaran Listrik Dinamis.</p>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(function () {
          renderMathInElement(document.body, {
            delimiters: [
              { left: "$$", right: "$$", display: true },
              { left: "$", right: "$", display: false },
            ],
            strict: false,
            throwOnError: false,
          });
        }, 100);
      });

      function toggleMobileMenu() {
        const menu = document.getElementById("mobileMenu");
        menu.classList.toggle("active");
      }
      document
        .getElementById("submit-quiz")
        .addEventListener("click", function () {
          let score = 0;
          const questions = document.querySelectorAll(".question-box");
          let answeredCount = 0;

          questions.forEach((question) => {
            const correctAnswer = question.getAttribute("data-correct-answer");
            const name = question.querySelector("input").getAttribute("name");
            const selectedOption = document.querySelector(
              `input[name="${name}"]:checked`
            );

            // Reset visual feedback
            question.classList.remove("correct", "incorrect");

            if (selectedOption) {
              answeredCount++;
              if (selectedOption.value === correctAnswer) {
                score++;
                question.classList.add("correct");
              } else {
                question.classList.add("incorrect");
              }
            }
          });

          if (answeredCount < questions.length) {
            alert("Mohon jawab semua pertanyaan sebelum memeriksa skor.");
            return;
          }

          const totalQuestions = questions.length;
          const percentage = (score / totalQuestions) * 100;
          let feedback = "";

          if (percentage >= 80) {
            feedback = "Luar biasa! Anda menguasai materi ini.";
          } else if (percentage >= 50) {
            feedback = "Bagus! Ada beberapa konsep yang perlu ditinjau ulang.";
          } else {
            feedback =
              "Terus semangat belajar! Silakan kembali ke modul materi.";
          }

          document.getElementById(
            "score-result"
          ).innerHTML = `<div class="result-box">Skor Anda: <strong>${score} dari ${totalQuestions}</strong> (${percentage.toFixed(
            0
          )}%)<br><br>${feedback}</div>`;
        });
    </script>
  </body>
</html>
